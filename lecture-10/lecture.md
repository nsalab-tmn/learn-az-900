# Бессерверные вычисления Azure

Бессерверные вычисления — это термин, используемый для описания среды выполнения, которая настроена и управляется для вас. Вы просто указываете, что вы хотите сделать, написав код или подключив и настроив компоненты в визуальном редакторе, а затем указываете действия, которые запускают функциональные возможности, такие как таймер или HTTP-запрос. 

Ключевая идея заключается в том, что вы не несете ответственности за настройку или обслуживание сервера. Вам не нужно беспокоиться о его масштабировании, когда есть повышенный спрос, и вам не нужно беспокоиться о перебоях. Поставщик облачных услуг позаботится обо всех проблемах обслуживания и масштабирования для вас.

Создается экземпляр службы, а затем добавляется код. Настройка или обслуживание инфраструктуры не требуется (даже не допускается). Вы настраиваете бессерверные приложения для реагирования на события. Событием может быть конечная точка REST, периодический таймер или даже сообщение, полученное от другой службы Azure. Бессерверное приложение запускается только тогда, когда оно вызвано событием. Масштабирование и производительность обрабатываются автоматически, и вам выставляется счет только за используемые ресурсы. Вам даже не нужно резервировать ресурсы.

Бессерверные вычисления обычно используются для обработки серверных сценариев. Другими словами, бессерверные вычисления отвечают за отправку сообщений из одной системы в другую или обработку сообщений, которые были отправлены из других систем. Он не используется для пользовательских систем, а, скорее, работает в фоновом режиме. 

В этом модуле мы рассмотрим две бессерверные вычислительные службы Azure: Функции Azure и Приложения логики Azure. 

## Функции Azure

С помощью службы [функций Azure](https://azure.microsoft.com/services/functions/?azure-portal=true) можно разместить один метод или функцию с помощью популярного в облаке языка профессиональной разметки, который запускается в ответ на событие. Примером события может быть HTTP-запрос, новое сообщение в очереди или сообщение по таймеру. 

Из-за своей атомарной природы функции Azure могут служить многим целям при проектировании приложения. Функции могут быть написаны на многих распространенных языках программирования, таких как C#, Python, JavaScript, Typescript, Java и PowerShell.

Функции Azure масштабируются автоматически, а списания начисляются только при срабатывании функции. Эти качества делают Функции Azure надежным выбором, когда спрос является переменным. Например, вы можете получать сообщения от решения IoT, которое отслеживает парк транспортных средств доставки. Скорее всего, у вас будет больше данных, поступающих в рабочее время. Функции Azure можно масштабировать, чтобы приспособиться к этим более загруженным временным отрезкам. 

Функция Azure — это среда без состояния. Функция ведет себя так, как будто она перезапускается каждый раз, когда она реагирует на событие. Эта функция идеально подходит для обработки входящих данных. А если требуется состояние, функцию можно подключить к учетной записи хранения Azure. 

Функции Azure могут выполнять задачи оркестрации с помощью расширения Durable Functions, которое позволяет разработчикам сцеплять функции вместе, сохраняя состояние.

Решение "Функции Azure" идеально подходит, когда речь идет только о коде, на котором выполняется служба, а не о базовой платформе или инфраструктуре. Функции Azure используются чаще всего, когда вам нужно выполнить работу в ответ на событие. Например, с помощью запроса REST, таймера или сообщения из другой службы Azure, и когда эта работа может быть выполнена быстро, в течение нескольких секунд.

## Azure Logic Apps

[Logic Apps](https://azure.microsoft.com/services/logic-apps/?azure-portal=true) — это платформа разработки для низкоуровневого и безкодового программирования, размещенная в качестве облачной службы. Служба помогает автоматизировать и координировать задачи, бизнес-процессы и рабочие процессы, когда вам нужно интегрировать приложения, данные, системы и службы на предприятии или в организации. Logic Apps упрощает проектирование и создание масштабируемых решений, в облаке, локально или в обоих случаях. Это решение охватывает интеграцию приложений, интеграцию данных, системную интеграцию, интеграцию корпоративных приложений (EAI) и интеграцию бизнеса с бизнесом (B2B). 

Azure Logic Apps разработан в веб-конструкторе и может выполнять логику, запускаемую службами Azure, без написания кода. Вы создаете приложение, связывая триггеры с действиями соединителями. Триггер — это событие (например, таймер), которое вызывает выполнение приложения, а затем отправляет новое сообщение в очередь или HTTP-запрос. Действие — это задача или шаг, который может выполняться. Существуют логические действия, подобные тем, которые вы найдете в большинстве языков программирования. Примеры действий включают работу с вариациями, операторами и циклами принятия решений, а также задачи, которые анализируют и изменяют данные.

Для создания корпоративных решений интеграции с Azure Logic Apps можно выбрать из растущей коллекции более чем 200 соединителей. Коллекция включает такие службы, как Salesforce,SAP, Oracle DB и файловые ресурсы.

Если вы не можете найти нужное действие или соединитель, вы можете создать свой собственный с помощью пользовательского кода.

## В чем разница между этими сервисами?

Функции Azure можно вызывать из приложений логики Azure и наоборот. Основное различие между двумя службами заключается в их намерении. Функции Azure — это бессерверная вычислительная служба, а Azure Logic Apps — бессерверная служба оркестрации. Хотя функции Azure можно использовать для оркестровки длительного бизнес-процесса, который включает в себя различные подключения, хотя это не было основным вариантом использования при его проектировании.

Кроме того, две услуги оцениваются по-разному. Цены на Функции Azure основаны на количестве выполнений и времени. Цены на Logic Apps основаны на количестве выполнений и типе соединителей, которые они используют. 

## Анализ критериев принятия решений

С двумя жизнеспособными бессерверными вариантами может быть трудно понять, какой из них является лучшим для работы. В этом разделе мы проанализируем критерии, которые эксперты используют, когда они выбирают бессерверную службу для использования какой-то бизнес-потребности. Понимание критериев также может помочь вам лучше понять нюансы различий между продуктами. 

### Вам нужно выполнить оркестровку через известные API?

Как мы отмечали ранее, Azure Logic Apps была разработана с учетом оркестровки, от веб-визуального конфигуратора до модели ценообразования. Logic Apps превосходно подключает большой массив разрозненных служб через свои API для передачи и обработки данных и содержит множество шагов в рабочем процессе.

Можно создать тот же рабочий процесс с помощью Функций Azure, но может потребоваться значительное количество времени, чтобы изучить, какие API вызывать и как вызывать. Azure Logic Apps уже компонентизировал эти вызовы API, так что вы предоставляете только несколько сведений, а сведения о вызове необходимых API абстрагированы. 

### Вам нужно выполнить пользовательские алгоритмы или выполнить специализированный анализ данных и поиск данных? 

С помощью функций Azure можно использовать все возможности языка программирования в компактной форме. Это позволяет кратко создавать сложные алгоритмы или операции поиска и синтаксического анализа данных. Вы будете нести ответственность за поддержание кода, отказоустойчивую обработку исключений и т.д.

Хотя Azure Logic Apps может выполнять логику (циклы, решения и т.д.), если у вас есть интенсивная оркестровка логики, требующая сложного алгоритма.

### Есть ли у вас существующие автоматизированные задачи, написанные на императивном языке программирования? 

Если оркестровка или бизнес-логика уже реализованы на C#, Java, Python или другом популярном языке программирования, может быть проще перенести код в тело приложения для функций Azure, чем повторно создать его с помощью Azure Logic Apps.

### Вы предпочитаете визуальный (декларативный) рабочий процесс или написание (императивного) кода? 

В конечном счете, ваш выбор сводится к тому, предпочитаете ли вы работать в декларативной среде или императивной среде. Разработчики, имеющие опыт работы с императивным языком программирования, могут предпочесть думать об автоматизации и оркестровке с императивным мышлением. ИТ-специалисты и бизнес-аналитики могут предпочесть работать в более визуальной среде low-code/no-code (декларативная). 
